<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>View in AR</title>

<script type="module"
src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js">
</script>

<style>
body {
  margin: 0;
  background: radial-gradient(circle at top,#111,#000);
  font-family: Arial, sans-serif;
  overflow: hidden;
  color: white;
}

.title {
  position: absolute;
  top: 25px;
  width: 100%;
  text-align: center;
  font-size: 20px;
  font-weight: 600;
  z-index: 10;
}

.subtitle {
  position: absolute;
  top: 55px;
  width: 100%;
  text-align: center;
  font-size: 14px;
  opacity: 0.6;
  z-index: 10;
}

model-viewer {
  width: 100%;
  height: 100vh;
  --ar-button-color: white;
  --ar-button-background-color: black;
}

button[slot="ar-button"] {
  border-radius: 30px;
  padding: 14px 22px;
  font-size: 16px;
  font-weight: 600;
}
</style>
</head>

<body>

<div class="title" id="modelTitle">
Loading...
</div>

<div class="subtitle">
Tap the AR button to place the model on your table
</div>

<model-viewer
  id="arModel"
  src="paneer2.glb"
  ios-src="paneer2.usdz"
  ar
  ar-modes="scene-viewer webxr quick-look"
  ar-placement="floor"
  ar-scale="auto"
  camera-controls
  auto-rotate
  shadow-intensity="1"
  exposure="1"
  environment-image="neutral"
  loading="eager">

  <button slot="ar-button">
    View in AR
  </button>

</model-viewer>

<script>

const model = document.getElementById("arModel");
const title = document.getElementById("modelTitle");

const dishes = {

  paneer2: {
    glb: "paneer2.glb",
    usdz: "paneer2.usdz",
    title: "Paneer Special"
  },

  cream: {
    glb: "cream.glb",
    usdz: "cream.usdz",
    title: "Creamy Delight"
  },

  charger: {
    glb: "charger.glb",
    usdz: "charger.usdz",
    title: "Charger Model"
  },

  
};

function loadFromURL() {
  const params = new URLSearchParams(window.location.search);
  const key = params.get("dish");

  if (dishes[key]) {
    model.src = dishes[key].glb;
    model.setAttribute("ios-src", dishes[key].usdz);
    title.innerText = dishes[key].title;
  } else {
    model.src = dishes.paneer2.glb;
    model.setAttribute("ios-src", dishes.paneer2.usdz);
    title.innerText = dishes.paneer2.title;
  }
}

loadFromURL();

</script>

</body>
</html>